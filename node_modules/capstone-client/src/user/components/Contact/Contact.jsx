  import React, { useState } from 'react';
  import './Contact.css';
  import '../../styles/professional-theme.css';

  function Contact() {
    const [name, setName] = useState('');
    const [email, setEmail] = useState('');
    const [message, setMessage] = useState('');
    const [submitted, setSubmitted] = useState(false);
    const [error, setError] = useState('');

    const handleSubmit = async (e) => {
      e.preventDefault();
      setError('');
      setSubmitted(false);

      try {
        const response = await fetch('http://localhost:5000/api/contact', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ name, email, message })
        });
        const result = await response.json();
        if (result.success) {
          setSubmitted(true);
          setName('');
          setEmail('');
          setMessage('');
        } else {
          setError('Failed to send message. Please try again later.');
        }
      } catch {
        setError('Failed to send message. Please try again later.');
      }
    };

    return (
      <div className="contact-main-content professional-container">
        <div className="contact-bg-animated">
          <div className="contact-bg-bubble b1"></div>
          <div className="contact-bg-bubble b2"></div>
          <div className="contact-bg-bubble b3"></div>
          <div className="contact-bg-bubble b4"></div>
        </div>
        <div className="contact-container">
          <form className="contact-form professional-card professional-form" onSubmit={handleSubmit}>
            <h2 className="professional-title">Contact Admin</h2>
            <p className="contact-desc professional-subtitle">
              Have questions, suggestions, or want to connect with the admin? Fill out the form below!
            </p>
            <div className="contact-field professional-field">
              <label htmlFor="contact-name" className="professional-label">Your Name</label>
              <input
                id="contact-name"
                type="text"
                placeholder="Enter your name"
                value={name}
                onChange={e => setName(e.target.value)}
                className="professional-input"
                required
              />
            </div>
            <div className="contact-field professional-field">
              <label htmlFor="contact-email" className="professional-label">Your Email</label>
              <input
                id="contact-email"
                type="email"
                placeholder="Enter your email"
                value={email}
                onChange={e => setEmail(e.target.value)}
                className="professional-input"
                required
              />
            </div>
            <div className="contact-field professional-field">
              <label htmlFor="contact-message" className="professional-label">Message</label>
              <textarea
                id="contact-message"
                placeholder="Type your message here..."
                value={message}
                onChange={e => setMessage(e.target.value)}
                className="professional-textarea"
                rows={5}
                required
              />
            </div>
            <button className="contact-btn professional-btn professional-btn-primary" type="submit">Send Message</button>
            {submitted && (
              <div className="contact-success professional-success">
                Thank you for reaching out! Your message has been sent.
              </div>
            )}
            {error && (
              <div className="contact-error professional-error">
                {error}
              </div>
            )}
          </form>
          <div className="contact-info professional-card">
            <h3 className="professional-heading">Other Ways to Connect</h3>
            <ul className="professional-list">
              <li>Email: <a href="mailto:admin@manganvaca-jobportal.com" className="professional-link">manganvacaportal@gmail.com</a></li>
              <li>Facebook: <a href="https://www.facebook.com/profile.php?id=61552854767866" target="_blank" rel="noopener noreferrer" className="professional-link">Barangay Mangan-vaca</a></li>
              <li>Barangay Office: Mangan-vaca, Subic, Zambales</li>
            </ul>
          </div>
        </div>
      </div>
    );
  }

  export default Contact;